# THIS IS A CYLC TASK CLASS DEFINITION FILE

%TASK
    ecan_rain_obs, ecro

%DESCRIPTION
    Create rain observation NetCDF file for Topnet.
 
%TYPE
    free, contact 

%CONTACT_DELAY
    2.00 hr

%OWNER
    hydrology

%HOURS
    6,18
    
%ENVIRONMENT
    OUT_DIR ${HOME}/input/topnet
    START_DATE  $(CYCLE_TIME - 48)
    FILEOUT topnet_rain_clidb_${START_DATE}_${CYCLE_TIME}_utc.nc
    RUN_DIR  ${HOME}/bin/ecan
    NHH 48
    SERVICE ecan_rain_obs

%COMMAND
    cylc-wrapper $HOME/bin/ecan/ecan_rain2netcdf.sh

%PREREQUISITES
    # None

%OUTPUTS
    "TOPNET ECAN RAIN file ready for ${CYCLE_TIME}"
