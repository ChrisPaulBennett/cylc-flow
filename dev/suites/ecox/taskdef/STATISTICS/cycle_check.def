# THIS IS A CYLC TASK CLASS DEFINITION FILE

%TASK
    cycle_check, c_c

%DESCRIPTION
    Get statistics about all the task for a cycle.

%TYPE
    free, sequential

%OWNER
    ecoconnect

%HOURS
    0,6,12,18

%ENVIRONMENT
	MAIN_LOG_FILE log*
	MAIN_LOG_DIR ${HOME}/.cylc/logging/ecoconnect
	TASK_LIST_FILE task_list.csv
	TASK_LIST_DIR ${HOME}/suites/ecoconnect/oper/scripts
	OUTPUT_FILE task_stats_${CYCLE_TIME}.csv
	OUTPUT_DIR ${HOME}/output/stats

%COMMAND
    cylc-wrapper cycle_check.sh
                                
%PREREQUISITES
    "ext_check_obstore_ukmet%$(CYCLE_TIME) finished"
    "ext_check_bgerr_ukmet%$(CYCLE_TIME) finished"
    "ext_check_frames_ukmet%$(CYCLE_TIME) finished"
    "ext_get_obstore_ukmet%$(CYCLE_TIME) finished"
    "ext_get_bgerr_ukmet%$(CYCLE_TIME) finished"
    "ext_get_frames_ukmet%$(CYCLE_TIME) finished"
    "unpack_obstores%$(CYCLE_TIME) finished"
    "unpack_bgerr%$(CYCLE_TIME) finished"
    "unpack_frames%$(CYCLE_TIME) finished"
    "OPS_AircraftSonde%$(CYCLE_TIME) finished"
    "OPS_AIRS%$(CYCLE_TIME) finished"
    "OPS_ATOVS%$(CYCLE_TIME) finished"
    "OPS_GPSRO%$(CYCLE_TIME) finished"
    "OPS_IASI%$(CYCLE_TIME) finished"
    "OPS_Satwind%$(CYCLE_TIME) finished"
    "OPS_SurfaceScatt%$(CYCLE_TIME) finished"
    "VAR_ConfigureLS%$(CYCLE_TIME) finished"
    "make_alabc%$(CYCLE_TIME) finished"
    "VAR_AnalysePF%$(CYCLE_TIME) finished"
    "UM_nzlam%$(CYCLE_TIME) finished"
    "get_um_output%$(CYCLE_TIME) finished"
    "nzlam_conv_met%$(CYCLE_TIME) finished"
    "nzlam_conv_sls%$(CYCLE_TIME) finished"
    "nzlam_conv_tn%$(CYCLE_TIME) finished"
    "nzlam_conv_escape%$(CYCLE_TIME) finished"
    if HOUR in 6,18:
	    "nzlam_ncl%$(CYCLE_TIME) finished"
	    "nzlam_products%$(CYCLE_TIME) finished"
	    "nzlam_housekeeping%$(CYCLE_TIME) finished"
	    "nztide%$(CYCLE_TIME) finished"
	    "nztide_ncl%$(CYCLE_TIME) finished"
	    "nztide_products%$(CYCLE_TIME) finished"
	    "nztide_housekeeping%$(CYCLE_TIME) finished"
	    "nzwave%$(CYCLE_TIME) finished"
	    "nzwave_ncl%$(CYCLE_TIME) finished"
	    "nzwave_products%$(CYCLE_TIME) finished"
	    "nzwave_housekeeping%$(CYCLE_TIME) finished"
	    "ricom%$(CYCLE_TIME) finished"
	    "ricom_ncl%$(CYCLE_TIME) finished"
	    "ricom_products%$(CYCLE_TIME) finished"
	    "ricom_housekeeping%$(CYCLE_TIME) finished"
	    "ext_create_streamflow%$(CYCLE_TIME) finished"
	    "ext_get_streamq%$(CYCLE_TIME) finished"
	    "topnet%$(CYCLE_TIME) finished"
	    "topnet_ncl%$(CYCLE_TIME) finished"
	    "topnet_products%$(CYCLE_TIME) finished"
	    "topnet_housekeeping%$(CYCLE_TIME) finished"
	    "ext_get_clidbdata%$(CYCLE_TIME) finished"
	    "mos_nzlam_coeffs%$(CYCLE_TIME) finished"
	    "mos_nzlam_apply%$(CYCLE_TIME) finished"
	    "mos_nzlam_vp_curr%$(CYCLE_TIME) finished"
	    "mos_nzlam_vp_5day%$(CYCLE_TIME) finished"
	    "mos_housekeeping%$(CYCLE_TIME) finished"
	    "ecan_rain_obs%$(CYCLE_TIME) finished"
    if HOUR in 0:
	    "ext_check_globalice_ukmet%$(CYCLE_TIME) finished"
	    "ext_get_globalice_ukmet%$(CYCLE_TIME) finished"
	    "ext_check_globalwind_ukmet%$(CYCLE_TIME) finished"
	    "ext_get_globalwind_ukmet%$(CYCLE_TIME) finished"
	    "globalnwp_conv_ice%$(CYCLE_TIME) finished"
	    "globalnwp_conv_wind%$(CYCLE_TIME) finished"
	    "sls_globalice_copy%$(CYCLE_TIME) finished"
	    "sls_globalwind_copy%$(CYCLE_TIME) finished"
	    "globalnwp_ncl%$(CYCLE_TIME) finished"
	    "globalnwp_products%$(CYCLE_TIME) finished"
	    "globalnwp_housekeeping%$(CYCLE_TIME) finished"
	    "globalwave%$(CYCLE_TIME) finished"
	    "globalwave_ncl%$(CYCLE_TIME) finished"
	    "globalwave_products%$(CYCLE_TIME) finished"
	    "globalwave_housekeeping%$(CYCLE_TIME) finished"
     if HOUR in 6:
        "ext_check_sst_ukmet%$(CYCLE_TIME) finished"
        "ext_get_sst_ukmet%$(CYCLE_TIME) finished"

%OUTPUTS
    # Default
