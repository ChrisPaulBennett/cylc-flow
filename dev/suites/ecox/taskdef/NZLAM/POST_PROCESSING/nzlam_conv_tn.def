# THIS IS A CYLC TASK CLASS DEFINITION FILE

%TASK
    nzlam_conv_tn, nzlct

%DESCRIPTION
    Converts the NZLAM UM TN file to NetCDF format.

%TYPE
    free

%OWNER
    nwp

%HOURS
    0,6,12,18

%ENVIRONMENT
    SYS     ${USER##*_}
    FILEIN  tn_${CYCLE_TIME}_utc_nzlam_12.um
    FILEIN_LOC  ${HOME}/output/nzlam_12
    FILEOUT tn_${CYCLE_TIME}_utc_nzlam_12.nc
    FILEOUT_LOC ${HOME}/output/nzlam_12
    FILEATT attribute_tn_nzlam-12.txt
    FILEATT_LOC /${SYS}/ecoconnect/nwp_${SYS}/control/nzlam_12/netcdf-attr
    MULTIFILE   0
    GUNZIP  0
    UM2NC_O tn_
    UM2NC_P _nzlam_12
    UM2NC_CT    ${CYCLE_TIME}
    OPTIONS -f -t -i -c
    FIELDS  33 409 1235 2207 3236 3209 3210 3245 5226
    SERVICE nzlam_conv_tn

%COMMAND
    cylc-wrapper um_conv_nc.sh
    
%PREREQUISITES
    "TN UM file ready for ${CYCLE_TIME}"

%OUTPUTS
    "TN NC UNCLEAN file ready for ${CYCLE_TIME}"
