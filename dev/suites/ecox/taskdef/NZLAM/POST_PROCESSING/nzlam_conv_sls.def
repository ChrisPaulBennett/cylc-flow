# THIS IS A CYLC TASK CLASS DEFINITION FILE

%TASK
    nzlam_conv_sls, nzlcs

%DESCRIPTION
    Converts the NZLAM UM met file to NetCDF format.

%TYPE
    free

%OWNER
    nwp

%HOURS
    0,6,12,18

%ENVIRONMENT
    SYS     ${USER##*_}
    FILEIN  sls_${CYCLE_TIME}_utc_nzlam_12.um
    FILEIN_LOC  ${HOME}/output/nzlam_12
    FILEOUT sls_${CYCLE_TIME}_utc_nzlam_12.nc
    FILEOUT_LOC ${HOME}/output/nzlam_12
    FILEATT attribute_sls_nzlam-12.txt
    FILEATT_LOC /${SYS}/ecoconnect/nwp_${SYS}/control/nzlam_12/netcdf-attr
    MULTIFILE 0
    GUNZIP  0
    UM2NC_O sls_
    UM2NC_P _nzlam_12
    UM2NC_CT    ${CYCLE_TIME}
    OPTIONS -f -t -i -c
    FIELDS  All
    SERVICE nzlam_conv_sls 

%COMMAND
    cylc-wrapper um_conv_nc.sh
    
%PREREQUISITES
    "SLS UM file ready for ${CYCLE_TIME}"

%OUTPUTS
    "SLS NC file ready for ${CYCLE_TIME}"
