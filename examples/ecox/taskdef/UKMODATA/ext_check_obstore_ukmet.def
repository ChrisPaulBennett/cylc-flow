# THIS IS A CYLC TASK CLASS DEFINITION FILE

%TASK
    ext_check_obstore_ukmet, e_c_o_uk

%DESCRIPTION
    Check if UK MetOffice obstore data for the current cycle is available for download. 

%TYPE
    free, contact

%CONTACT_DELAY
    3.15 hr

%OWNER
    ecoconnect 

%HOURS
    0,6,12,18

%ENVIRONMENT
    SRCE    ftpops.metoffice.gov.uk
    SRCE_LOC    ~/
    DEST_LOC    ${HOME}/output
    FILENAME    ${CYCLE_TIME}_obstore_checksum.txt  
    SRCE_USER   niwa
    SERVICE ext_check_obstore_ukmet
    TIMEOUT 60
    
%COMMAND
    cylc-wrapper file_check_ftp.sh

%PREREQUISITES
    # NONE

%OUTPUTS
    "OPS Obstore files available for download for ${CYCLE_TIME}"
