# THIS IS A CYLC TASK CLASS DEFINITION FILE

%TASK
    make_alabc, m_lbc

%DESCRIPTION
    Convert NZLAM frames to an ALABC (boundary condition) file

%TYPE
    free

%OWNER
    nwp

%DIRECTIVES
    # serial job on fitzroy
    job_type      serial
    class         serial
    cluster_list  AIX-LL-Cluster1

%SCRIPTING
    # This is required for access to the standard makebc executable in
    # the UM installation. UM jobs at NIWA, on the other hand, require
    # this in $HOME/.profile, which gets sourced inside the secondary
    # loadleveler submit.
    . ~um_fcm/user-config/um.profile

%HOURS
    0,6,12,18

%COMMAND
    cylc-wrapper make_alabc.sh --keep

%PREREQUISITES
    "NZLAM boundary frames ready for $(CYCLE_TIME)"

%OUTPUTS
    "NZLAM LBC file ready for $(CYCLE_TIME)"
