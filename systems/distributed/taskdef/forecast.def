# THIS IS A CYLC TASK DEFINITION FILE

#         __________________________
#         |____C_O_P_Y_R_I_G_H_T___|
#         |                        |
#         |  (c) NIWA, 2008-2010   |
#         | Contact: Hilary Oliver |
#         |  h.oliver@niwa.co.nz   |
#         |    +64-4-386 0461      |
#         |________________________|


%NAME
    forecast

%DESCRIPTION
    Forecast model. 
    Generates restart files for the next cycle only.
    Depends on external input data.

%TYPE
    tied

%CYCLES
    0,6,12,18

%TASK
    forecast.sh

%REMOTE_HOST
    $SUPERCOMPUTER

%ENVIRONMENT
    NEXT_CYCLE_TIME $(CYCLE_TIME + 6)
    # pass a local global variable to the remote task:
    CYLC_REMOTE_TMPDIR $CYLC_REMOTE_TMPDIR
    # note this assumes the same $HOME local and remote: 
    PATH $PATH:$HOME/cylc/bin:$HOME/cylc/systems/distributed/scripts
    PYTHONPATH $PYTHONPATH:$HOME/cylc/src

%PREREQUISITES
    "forecast input ready for $(CYCLE_TIME)"

%ESTIMATED_RUN_TIME
    90 min

%ESTIMATED_RESTART_OUTPUT_TIMES
    15 min

%OUTPUTS
    90 min: "forecast output ready for $(CYCLE_TIME)"

