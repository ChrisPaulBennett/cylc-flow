# THIS IS A CYLC TASK DEFINITION FILE

#         __________________________
#         |____C_O_P_Y_R_I_G_H_T___|
#         |                        |
#         |  (c) NIWA, 2008-2010   |
#         | Contact: Hilary Oliver |
#         |  h.oliver@niwa.co.nz   |
#         |    +64-4-386 0461      |
#         |________________________|


%NAME
    TaskA, A

%DESCRIPTION
    Task A, the main "driving model" in the cylc userguide example
    system. Representing an atmospheric model, it waits on real time
    obs and its own restart file, and generates restart files for the
    next cycle.

%TYPE
    tied

%CYCLES
    0,6,12,18

%TASK
    TaskA.sh

%ENVIRONMENT
    NEXT_CYCLE_TIME $(CYCLE_TIME + 6)
    ANIMAL foxy fox
    REMOTE_HOME $[HOME]
    TASK_FOO global-${BAZ}
    FOO_TIME ${CYCLE_TIME} 

%COMMANDLINE
    # TaskA.sh commandline: --file=FILE SENTENCE
    --file=${HOME}/data-$(CYCLE_TIME + 6).nc
    #--foo=$CYCLE_TIME
    # '$[HOME] evaluates as '$HOME' at execution time, e.g. on a remote machine
    "the quick brown $ANIMAL went $[HOME]"

%PREREQUISITES
    "obs data ready for $(CYCLE_TIME)"

%N_RESTART_OUTPUTS
    1

%OUTPUTS
    "level forecast fields ready for $(CYCLE_TIME)"
    "surface wind fields ready for $(CYCLE_TIME)"
    "surface pressure field ready for $(CYCLE_TIME)"
