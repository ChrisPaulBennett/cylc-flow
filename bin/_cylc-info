#!/usr/bin/env python

#         __________________________
#         |____C_O_P_Y_R_I_G_H_T___|
#         |                        |
#         |  (c) NIWA, 2008-2010   |
#         | Contact: Hilary Oliver |
#         |  h.oliver@niwa.co.nz   |
#         |    +64-4-386 0461      |
#         |________________________|


import os, sys

from optparse import OptionParser
from registration import registrations

parser = OptionParser( usage = """cylc info [options] SUITE 

Retrieve the suite-specific information about a registered suite. This
command does not interact with a running suite, it simply accesses the
'suite_info' module in a suite definition directory. The same
information can be retrieved from a running suite by 'cylc show'.

Arguments:
   SUITE     Registered name of the target suite.""")

(options, args) = parser.parse_args()

if len( args ) != 1:
    parser.error( "Wrong number of arguments!" )

name = args[0]

# find location of the suite task and config modules
reg = registrations()
if reg.is_registered( name ):
    suite_dir = reg.get( name )
    reg.print_reg( name )
else:
    reg.print_all()
    raise SystemExit( "suite " + name + " is not registered!" )

# prepend suite Python modules to the python search path
sys.path.insert(0, suite_dir )

# import suite-specific help module
import suite_info

# print suite_specific information
print suite_info.info
