#!/usr/bin/env python3

"""cylc [info] get-package-resources [OPTIONS] DIR [RESOURCES]

Extract resources from the cylc.flow package, to DIR.

Options:
    --list      List available resources
Arguments:
    DIR         Target Directory
    [RESOURCES] Specific resources to extract (default all).
"""

import sys
from cylc.flow.package_resources import get_pkg_resources, list_pkg_resources
from cylc.flow.terminal import cli_function


@cli_function
def main(args):
    if 'help' in args or '--help' in args:
        print(__doc__)
        return
    if '--list' in args:
        print('\n'.join(list_pkg_resources()))
        return
    target_dir = args[0]
    if len(args) > 1:
        resources = args[1:]
    else:
        resources = None
    get_pkg_resources(target_dir, resources)


if __name__ == '__main__':
        main(sys.argv[1:])
