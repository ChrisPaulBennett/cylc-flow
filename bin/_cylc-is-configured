#!/bin/bash

# check that a directory is a configured cylc system definition directory

if [[ $# != 1 ]]; then
    echo "Usage: _cylc-is-configured PATH"
    echo "Arguments:"
    echo "  PATH  cylc system definition directory location"
    exit 1
fi

DIR=$1

if [[ ! -f $DIR/system_config.py || \
      ! -f $DIR/task_classes.py  || \
      ! -f $DIR/system_info.py   || \
      ! -f $DIR/job_submit_methods.py ]]; then
    echo "ERROR: $DIR is not a configured cylc system definition directory!"
    exit 1
fi
