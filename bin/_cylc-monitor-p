#!/bin/bash

print_usage() {
	echo "Usage: cylc monitor-pyro-ns [options]"
    echo ""
	echo "A simple terminal-based monitor to display objects"
    echo "currently registered in the Pyro Nameserver."
    echo ""
	echo "Options:"
	echo "  -h (--help)   Print this usage message and exit."
}

if [[ $# != 0 ]]; then
	print_usage
	if [[ $1 == '--help' || $1 == '-h' ]]; then
		exit 0
	else
		exit 1
	fi
fi

while true; do
    FOO="$(pyro-nsc listall)"
    clear
    echo "$FOO"
    sleep 2
done
